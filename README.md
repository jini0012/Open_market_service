# 📝Project03 : Open_market_service

[![Typing SVG](https://readme-typing-svg.demolab.com?font=Fira+Code&pause=1000&color=5685F7&repeat=false&width=435&lines=Project03+%3A+Open+Market+Service)](https://git.io/typing-svg)

#### 오픈 마켓 서비스

> 판매자와 구매자를 구별하여 판매자는 상품 등록, 판매를 가능하게 하고 구매자는 구매를 가능하게 하는 서비스

## 사용 기술

<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> </br>

## 기능

- 비회원은 구매자 또는 판매자로 회원가입 가능
- 회원은 구매자 또는 판매자로 로그인 가능
- 비회원과 회원의 상품목록, 상품 상세 페이지 확인 가능
- 비회원, 로그인(구매자), 로그인(판매자)에 따른 다른 UI 적용

#### 2025.01 ~ 추가 기능

- 모바일 화면 구현 (반응형 UI 적용)
- 장바구니 기능 구현
- 주문하기 기능 구현

## 배포 URL

- https://jini0012.github.io/Open_market_service/

  > 테스트용 계정 (구매자)

  ```
  id : test00
  pw : test1234
  ```

  > 테스트용 계정 (판매자)

  ```
  id : test01
  pw : test12345
  ```

  |             기능             | HTTP Method | 비회원 권한 | 회원 권한 |
  | :--------------------------: | :---------: | :---------: | :-------: |
  |           회원가입           |    POST     |     ✅      |           |
  |            로그인            |    POST     |     ✅      |           |
  |           로그아웃           |             |             |    ✅     |
  |           상품목록           |     GET     |     ✅      |    ✅     |
  |           상품상세           |     GET     |     ✅      |    ✅     |
  |           장바구니           |     GET     |             |    ✅     |
  | 장바구니<br>개별 및 전체삭제 |   DELETE    |             |    ✅     |
  |           주문하기           |    POST     |             |    ✅     |

## 프로젝트

> 프로젝트 구조

- MPA 사용

  |  🖥️  |   로그인   |  회원가입   | 상품 목록  | 상품 상세  | 서버 에러  | 장바구니  | 주문하기   |
  | :--: | :--------: | :---------: | :--------: | :--------: | :--------: | --------- | ---------- |
  | Page | login.html | signup.html | index.html | goods.html | error.html | cart.html | order.html |

```bash
📦 Open_market_service
┣ 📂assets
┣ 📂css
┃ ┣ 📜cart.css
┃ ┣ 📜common.css
┃ ┣ 📜error.css
┃ ┣ 📜goods.css
┃ ┣ 📜login.css
┃ ┣ 📜main.css
┃ ┣ 📜order.css
┃ ┣ 📜reset.css
┃ ┗ 📜signup.css
┣ 📂js
┃ ┣ 📜cart.js
┃ ┣ 📜common.js
┃ ┣ 📜goods.js
┃ ┣ 📜login.js
┃ ┣ 📜main.js
┃ ┣ 📜order.js
┃ ┗ 📜signup.js
┣ 📜cart.html
┣ 📜error.html
┣ 📜goods.html
┣ 📜index.html
┣ 📜login.html
┣ 📜order.html
┣ 📜README.md
┗ 📜signup.html
```

- 개발 일정
  > 2024.10.14 ~ 2024.10.21
- 추가 기능 구현 일정
  > 2025.01.24 ~ 구현 중

```mermaid
gantt
    title 프로젝트 일정
    dateFormat  YYYY-MM-DD
section HTML/CSS
    로그인     :done, login1, 2024-10-14, 1d
    회원가입       :done, 2024-10-14, 2d
    상품목록   :done, 2024-10-15, 2d
    상품상세   :done, 2024-10-16, 1d
    에러페이지   :done, error, 2024-10-16, 1d
    코드 수정  :done, edit , after error, 2d
    section JS
    로그인     :done, 2024-10-15, 2d
    회원가입       :done, 2024-10-15, 2d
    에러페이지   :done, 2024-10-16, 2d
    상품목록   :done, 2024-10-17, 2d
    상품상세   :done,goods,  2024-10-17, 2d
    코드 수정  :done, edit , after goods, 1d


    section Github
    배포    :done, 2024-10-19, 1d
    Readme 작성  :r1, 2024-10-16, 1d
    Readme 수정  : after r1, 2024-10-17, 4d
```

## 요구사항 & 기능 명세

> 구매자 페이지

- 로그인 페이지

  | 📝확인사항 |      로그인 페이지       | 내용                                                        | CHECK |
  | :--------: | :----------------------: | :---------------------------------------------------------- | :---: |
  |     1      | 아이디, 비밀번호 미일치  | 로그인 경고 문구, 비밀번호 입력창에<br> focus 이벤트 + 빈칸 |  ✅   |
  |     2      | 로그인 경고창 나타날경우 | 로그인 버튼 눌러도 로그인 불가                              |  ✅   |
  |     3      |     input에 미입력시     | 입력되지 않은 입력창에 focus 이벤트                         |  ✅   |
  |     4      |       로그인 성공        | 로그인하기 이전 페이지로 이동                               |  ✅   |

- 회원가입 페이지

  | 📝확인사항 |           회원가입 페이지           | 내용                      | CHECK |
  | :--------: | :---------------------------------: | :------------------------ | :---: |
  |     1      |  모든 입력 완료 + 동의하기 체크 시  | 회원가입 가능             |  ✅   |
  |     2      | 회원정보 입력 후 회원가입 버튼 클릭 | 로그인 페이지로 이동      |  ✅   |
  |     3      |        아이디 중복 버튼 클릭        | 아이디 중복시 경고 문구   |  ✅   |
  |     4      |   구매 회원가입 탭 누르고 가입시    | 구매자로 회원가입         |  ✅   |
  |     5      |     순서대로 입력하지 않는 경우     | 필수 정보입니다 경고 문구 |  ✅   |

- 상품 목록 페이지

  | 📝확인사항 |   상품 목록 페이지    | 내용                               | CHECK |
  | :--------: | :-------------------: | :--------------------------------- | :---: |
  |     1      | 목록에서 상품 클릭 시 | 상품 상세 페이지로 이동            |  ✅   |
  |     2      |       상품 목록       | 상품 판매자, 상품명, 가격이 보여짐 |  ✅   |

- 상품 상세 페이지

  | 📝확인사항 |     상품 상세 페이지     | 내용                                                   |  CHECK   |
  | :--------: | :----------------------: | :----------------------------------------------------- | :------: |
  |     1      |     페이지 열렸을 때     | productId에 해당하는 상품을 불러오고, 상품 정보 보여줌 |    ✅    |
  |     2      | +버튼 - 버튼 클릭 시에만 | 상품 수량 변경 가능                                    |    ✅    |
  |     3      |       수량 변경 시       | 상품 재고 수량 초과하면 +버튼 비활성화                 |    ✅    |
  |     4      |        선택 옵션         | 선택된 옵션에 맞춰서 가격을 계산 및 총 가격 나타냄     |    ✅    |
  |     5      |       수량 0일 때        | 바로구매 및 장바구니 버튼 disabled                     | (추가)✅ |
  |     6      |  장바구니 버튼 클릭 시   | 장바구니 이동여부 알림을 띄우고 확인을 누르면 이동     | (추가)✅ |

- 404 페이지 (추가)

  | 📝확인사항 | 상품 상세 페이지 | 내용                                               |  CHECK   |
  | :--------: | :--------------: | :------------------------------------------------- | :------: |
  |     1      |  메인으로 버튼   | 메인으로 버튼 클릭 시 메인(index.html)으로 이동    | (추가)✅ |
  |     2      | 이전 페이지 버튼 | 이전 페이지 버튼 클릭 시 사용자 이전 페이지로 이동 | (추가)✅ |

- 페이지 상단 글로벌 네비게이션(GNB)
  | 📝확인사항 | GNB | 내용 |CHECK|
  | :-: | :-: | :- | :-: |
  | 1 | 상단 검색창 | UI로만 존재 |✅|
  | 2 | 구매회원 및<br> 비로그인 회원 | 검색창과 장바구니 버튼만 존재<br>(2025.01 : 장바구니 기능 구현 추가) |✅ <br>로그인 버튼 <br>존재하도록 구현|
  | 3 | 로그인 유저 | 장바구니 버튼은 UI로만 존재<br>(2025.01 : 장바구니 기능 구현 추가) |✅|
  | 4 | 판매회원의 페이지 상위버튼 | 마이페이지 버튼과 판매자 센터 버튼이 UI로만 존재 |✅|

- 로그인 요청 모달
  | 📝확인사항 | 로그인 요청 모달 | 내용 |CHECK|
  | :-: | :-: | :- | :-: |
  | 1 | 비로그인 사용자 | 장바구니, 바로구매 클릭 시 모달 창 open |✅|

- 마이페이지
  | 📝확인사항 | 마이페이지 | 내용 |CHECK|
  | :-: | :-: | :- | :-: |
  | 1 | GNB에서 마이페이지 클릭 | 마이페이지, 로그아웃 모달창 open |✅|
  | 2 | 드롭박스 내 마이페이지 | UI로만 존재 |✅|
  | 3 | 드롭박스 내 로그아웃 클릭 | 로그아웃 기능 실행 |✅|

> 2025.01 추가 구현 사항

- 장바구니 페이지 (추가)

  | 📝확인사항 |  상품 상세 페이지   | 내용                                                                                                                                                               |  CHECK   |
  | :--------: | :-----------------: | :----------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------: |
  |     1      |  장바구니 상품정보  | 장바구니에 담긴 상품이 없는경우와 있는 경우 UI 다르게 구현                                                                                                         | (추가)✅ |
  |     2      | 전체 상품 선택 버튼 | 전체 상품 선택 버튼 클릭 시 모든 상품이 선택 되고 <br> 한번 더 클릭 시 모두 선택 해제                                                                              | (추가)✅ |
  |     3      | 전체 상품 삭제 버튼 | 버튼 클릭 시 장바구니 전체 상품 삭제<br> 장바구니 상품정보가 없는경우 UI상으로 미표시                                                                              | (추가)✅ |
  |     4      | 개별 상품 삭제 버튼 | 버튼 클릭 시 장바구니 개별 상품 삭제                                                                                                                               | (추가)✅ |
  |     5      |     총 금액 UI      | 장바구니 내의 총 상품금액 / 배송비 / 결제 예정 금액 UI 구현                                                                                                        | (추가)✅ |
  |     6      |   상품 수량 변경    | 장바구니 개별 상품 수량 변경 기능 구현 <br> 상품 수량이 재고 수량을 초과하지 못함 (초과 하는데 +버튼 클릭 시 alert를 띄움) <br> 상품 수량이 0 이하로 떨어지지 못함 | (추가)✅ |

- 주문하기 페이지 (추가)

  | 📝확인사항 | 상품 상세 페이지 | 내용                                                                                                              |  CHECK   |
  | :--------: | :--------------: | :---------------------------------------------------------------------------------------------------------------- | :------: |
  |     1      |    배송 정보     | 배송 정보 모두(배송 메세지 는 선택) 입력 및 <br> 내용 확인 및 정보제공 동의 checkbox 체크 시 결제하기 버튼 활성화 | (추가)✅ |

## 화면 구현

### 1. 회원가입 및 로그인페이지

|        ⭐         |                                         구매회원                                          |                                         판매회원                                          |
| :---------------: | :---------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------: |
|  signup<br>기본   |                      <img src="./readme/회원가입화면_구매회원.png">                       |                      <img src="./readme/회원가입화면_판매회원.png">                       |
|  signup<br>입력   |                    <img src="./readme/회원가입화면_구매회원_가입.png">                    |                    <img src="./readme/회원가입화면_판매회원_가입.png">                    |
| signup<br>invalid | ![Image](https://github.com/user-attachments/assets/1da58262-196e-465f-982d-3a386ca7e5ce) | ![Image](https://github.com/user-attachments/assets/a30242ee-f854-41da-b33d-588dd17f2dcd) |
|       login       |                       <img src="./readme/로그인화면_구매회원.png">                        |                       <img src="./readme/로그인화면_판매회원.png">                        |

### 2. 상품 목록 , 상세 페이지 및 모달

|         ⭐          |                            비회원                             |                        구매회원                        |                    판매회원                    |
| :-----------------: | :-----------------------------------------------------------: | :----------------------------------------------------: | :--------------------------------------------: |
|         GNB         |              <img src="./readme/GNB_비회원.png">              |         <img src="./readme/GNB_구매회원.png">          |     <img src="./readme/GNB_판매회원.png">      |
|   마이<br>페이지    |                              ❌                               | <img src="./readme/회원 마이페이지 로그아웃 모달.png"> |                구매회원과 동일                 |
|  index<br>상품목록  |         <img src="./readme/상품목록화면_비회원.png">          |     <img src="./readme/상품목록화면_구매회원.png">     | <img src="./readme/상품목록화면_판매회원.png"> |
|  goods<br>상품상세  |         <img src="./readme/상품상세화면_ 비회원.png">         |     <img src="./readme/상품상세화면_구매회원.png">     | <img src="./readme/상품상세화면_판매회원.png"> |
|  goods<br>수량버튼  |      <img src="./readme/상품상세 페이지 버튼 클릭.gif">       |                           ❌                           |                       ❌                       |
| 상품상세<br>재고0개 |    <img src="./readme/상품상세화면_구매회원(재고0개).png">    |                           ❌                           |                       ❌                       |
| 상품상세<br>재고1개 |    <img src="./readme/상품상세화면_구매회원(재고1개).png">    |                           ❌                           |                       ❌                       |
| goods<br>로그인모달 | <img src="./readme/상품상세 페이지 - 비회원 로그인 모달.gif"> |                           ❌                           |                       ❌                       |

### 3. 장바구니 페이지 (2025.01 추가)

|          ⭐          | 비회원 |                           구매회원                           | 판매회원 |
| :------------------: | :----: | :----------------------------------------------------------: | :------: |
|       장바구니       |   ❌   |        <img src="./readme/장바구니화면_구매회원.gif">        |    ❌    |
| 장바구니<br>상품0개  |   ❌   |    <img src="./readme/장바구니화면_구매회원(empty).png">     |    ❌    |
| 장바구니<br>상품선택 |   ❌   |   <img src="./readme/장바구니화면_구매회원(상품선택).gif">   |    ❌    |
| 장바구니<br>개별삭제 |   ❌   | <img src="./readme/장바구니화면_구매회원(개별상품삭제).gif"> |    ❌    |
| 장바구니<br>전체삭제 |   ❌   | <img src="./readme/장바구니화면_구매회원(전체상품삭제).gif"> |    ❌    |
| 장바구니<br>수량변경 |   ❌   |        <img src="./readme/장바구니화면_수량변경.gif">        |    ❌    |

## 에러 및 해결

> 휴대폰 번호 앞자리 셀렉트 박스 커스텀하기

- 기존 시멘틱한 마크업을 위해 `<select>` 태그와 `<option>` 태그를 사용하여 휴대폰 번호 앞자리를 입력하고 커스텀하려고 시도했지만 너무 어려웠다 그래서 `<div>`로 박스를 감싼 후 `<button>`을 사용해 `<select>`의 역할을 하는 것처럼 하고, `<ul>`>`<li>`>`<button>`을 사용해 각 다른 번호를 입력해서 버튼 클릭 시 적용되도록 js로 구현했다.

> 필수 입력 값입니다 를 순서대로 표시하는 방법

- 디자인툴인 피그마를 먼저확인 후 회원가입 유효성 검사를 확인하게 되어서 유효성 검사 메세지를 html 태그에 하나하나씩 넣어주고 굉장히 많이 수정했다.. 이부분은 js를 구현하기에도 어려워서 많이 고민했는데 처음엔 무작정 forEach를 사용해서 작성했는데 잘 되지 않아서 for of문으로 수정했고, 바로 반복문을 사용하지 않고 입력중인 `<input>`의 인덱스를 변수로 저장해둔다음 입력중인 인덱스 보다 작고, 값이 비어있는 경우 '필수 정보입니다'가 뜨도록 설정했다.

> 상품 값을 표시

- 상품 값을 000,000 이런식으로 작성하는 것에 문자열내에 ','를 넣으려고 했으나 기존에 알던 메소드로는 구현하는데 어려움이 있었는데 이번 기회에 새롭게 금액 숫자 적용하는 방법을 알게되어 좋았다 `toLocaleString()` 을 사용하는 방법이 있지만 `Intl.NumberFormat` 로 언어에 맞는 숫자 서식을 지원하는 생성자를 사용해서 적용했다.

## 개발하며 느낀점 및 아쉬운점

- 이번에 css파일이나 js파일에서 공통된 부분을 하나로 묶는 작업을 처음 해보았는데 아직 이런식으로 작성되어도 되는 것인지 잘 모르겠어서 좀 더 추가하거나 삭제할 수 있는 부분이 있을 거 같아 아쉬웠다.
- SPA 방법 사용과 판매자 페이지도 함께 개발하고 싶었으나 SPA를 사용하기에는 페이지를 만들기에 아직 너무 어렵게 느껴졌고 시간이 너무 오래걸릴 것 같아서 MPA 방법을 사용했다. MPA 끝나면 조금 수정해봐야지 하고 생각했는데 구매자 페이지 하는 것에도 생각보다 시간이 많이 걸려서 해보지 못한 것이 너무 아쉽다.
- 서버 API를 사용해서 개발하는건 처음이었는데, 토큰 값을 다르게 적용하고 싶었지만 아직은 너무 어려워서 로컬스토리지로 저장하는 방법을 사용했다. 조금 더 공부해서 수정해봐야겠다.
- HTML을 먼저 작성하고 상품 목록 API를 살펴봐서 상품 목록에 대해 잘 모른채로 페이지가 만들어졌는데, 그래서 정해진 개수의 상품목록만 볼 수 있는 부분이 굉장히 아쉽다. 이부분도 추후 수정해봐야겠다.
- 추후 새로운 프로젝트를 시작할 땐 요구 명세를 더 자세히 읽고 시작해야 겠다. 처음에 시작했을 땐 무작정 디자인툴인 피그마를 보고 페이지를 다 만들었는데, 추가로 필요한 기능이 보여서 HTML, CSS를 수정하고 JS 수정하기를 무한반복 했던 것 같다. 확장성 좋게 코드 짜는 것도 굉장히 필요해보이고 무작정 시작하지 말고 꼼꼼히 살펴보는 것도 중요하다는 생각이 굉장히 많이 들었다.
